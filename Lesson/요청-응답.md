

## 요청-응답/ 헤더



> 헤더 __________헤더이름________:_____________ 
>
> 요청을 줄때 참고해야할 부가정보를 포함
>
> 요청이 갈때마다 똑같은 정보를 달고 왔다갔다 함 (HTTP가 Stateless해서)

### slowloris attack

> DoS 공격 기법 중 하나
>
> HTTP 요청 헤더의 끝이 개행문자로 끝나는 요청의 구조를 이용한 공격
>
> *헤더는 개행으로 마무리 되는데 마무리되지 않게 계속 연결상태를 유지시켜 놓고, 조금씩 헤더를 마비시키는 것*



### GET METHOD

서버로 전달할 내용(파라미터)을 URL에 포함하는 방식

동일한 요청이 발생하면 동일한 결과가 생산되는 것(북마크)

스태틱한 자원에 대한 요청 (이미지) 



### 포스트 방식

서버로 전달하는 내용이  요청 **본문** 에 들어가는 방식

어떻게? CONTENT TYPE : URL 인코딩방법에 의해서 내용에 붙어서 간다.

- content-type : application/x-www-form-urlencoded (인코딩방식)
- - a=b & c=d & .. 

-  content-type : multi part form data 형식: - - - - -abcd1259

​       a=b —— 1258 

​       c=d -------- 

단락을 나눠서 파일 내용을 안에 넣고, 데이터의 유형(타입, 인코딩은 무엇이고)

- content-length : 

> 서버에 전달하는 데이터를 숨겨야 할 때 (주소창에 안보이니까) *은닉*
>
> 일회성 데이터(중복저장이 안딤)
>
> 트랜잭션 처리에 대한 요청할 때
>
> 재생되는 것이 제공되면 안되는 경우 





**Rudy Attack** (P 145)/ slow http post attack

: 요청 헤더의 content-Length의 값을 크게 설정해서 서버가 요청 본문을 기다리도록 하는 공격

content-length를 길게 주는 것(예: 10,000으로 작성하고)

실제 데이터는 작음

일정한 시간을 기다리게 - 1 byte 1 byte .. 

length 길이와 실제 데이터 양의 차이 만큼을 기다리게 하는 것



- HTTP **referrer** 헤더 : 요청이 발생한 위치정보를 담고 있는것

- - 순차적으로 처리되어야 하는 페이지에서 순차적으로 진행되었는지 확인할 때 (회원가입 : 약관 동의 - 뭐 - 뭐 - 뭐)

  -------------공격----------

- **CSRF cross site request forgery**

  1. 요청 순서(절차)
  2. 요청 주체

- - - 예시

      > changepw.jsp ? newpw = 
      >
      > 1. 인증여부
      > 2. newpw?
      > 3. session -> id
      > 4. update id.pw <- parameter pw

      제목 : 아이유 ~~

      ...

      

      iframe src =" changepw.jsp? = newpw=123" width="0" height="0">

    게시판 열람자 -> 자동으로 패스워드가 변경됨

    - 요청 절차/ 주체 확인하지 않아서 발생



- COOKIE

  : 서버가 클라이언트에게 남기는 자취





## 응답

> 시작 HTTP: 200 ok ⏎  처리상태코드 state
>
> 헤더
>
> 본문



***HTTP 응답분할***

> 
>
> 외부 입력값을 응답헤더의 값으로 사용하는 경우
>
> 개행문자를 이용해서 응답을 여러개로 분할해서 전달하고,
>
> 분할된 응답 중 본문 영역에 악성행위를 하는 코드를 집어넣어서 공격하는 공격 기법 

