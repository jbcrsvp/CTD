
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>refactoring</title>



<style>
            p {
                color:black;
                background-color: white;
                border: 2px solid none;
                margin: 10px;
                padding: 10px;
                font-size: 15px;
                font-family: courier;
    
            }

            div {
                color: black;
                background-color: lightgrey;
                margin: 5px;
                padding: 5px;
                font-size: 14px;
                font-family: Verdana, Geneva, Tahoma, sans-serif;

            }
            h3 {
                font-family: Verdana, Geneva, Tahoma, sans-serif;
            }
            
            br {
                content: "";
                margin: 2em;
                display: block;
                font-size: 24%;
            }

        </style>

</head>

<body>
<p>
    Refactoring<br>
    코드가 비효율적일 때, 동작은 그대로 두고 , 코드를 효율적으로 만들어서 코드의 가독성을 높여서 유지보수를 편리하게 만들고, 중복 코드를 맞추고 등등 <br>
    코드를 다시 개선하는 작업<br>
    틈틈히 리펙토링을 해야 좋은 프로그램을 만들 수 있다.<br>
    </p>

    <br>
    <br>




    <h1>Refactoring Example</h1>

    <body>
        <h1><a href="index.html">WEB</a></h1>
        <input id="night_day" type="button" value="night" onclick="
          if(document.querySelector('#night_day').value === 'night'){
            document.querySelector('body').style.backgroundColor = 'black';
            document.querySelector('body').style.color = 'white';
            document.querySelector('#night_day').value = 'day';
          
          } else {
            document.querySelector('body').style.backgroundColor = 'white';
            document.querySelector('body').style.color = 'black';
            document.querySelector('#night_day').value = 'night';
           
          }
        ">

        <p> 밑에 코드를 똑같이 복붙하면 제대로 작동 안한다. <br>
            동작은 하는데 글자가 안바뀐다.<br>
            이유: 밑에 버튼을 클릭하면 위에 버튼이 바뀐다.
            <br> 밑의 id를 다른 id로 변경해주어야 제대로 작동.
        </p>
        <br>
        <input id="night_day2" type="button" value="night" onclick="
          if(this.value === 'night'){
            document.querySelector('body').style.backgroundColor = 'black';
            document.querySelector('body').style.color = 'white';
            this.value = 'day';
          
          } else {
            document.querySelector('body').style.backgroundColor = 'white';
            document.querySelector('body').style.color = 'black';
            this.value = 'night';
           
          }
        ">
        <p>
            불편함을 해소하기 위해, onclick과 같은 event안에서 실행되는 코드들은 <br>
            구간 안에서는, 그 코드가 속해있는 태그(input(index)), 그 태그를 가리키도록 약속되어있는 특수한 키워드가 있다. <br>
            그것이 'this'
        </p>
        <p> (document.querySelector('#night_day2')를 this로 바꿈 <br>
            input id="night_day2" 는 이제 인덱스를 참조할 필요가 없으니까, 지운다.  
        </p>
        
        <input id="night_day2" type="button" value="night" onclick="
            if(document.querySelector('#night_day2').value === 'night'){
            document.querySelector('body').style.backgroundColor = 'black';
            document.querySelector('body').style.color = 'white';
            document.querySelector('#night_day2').value = 'day';
          
          } else {
            document.querySelector('body').style.backgroundColor = 'white';
            document.querySelector('body').style.color = 'black';
            document.querySelector('#night_day2').value = 'night';
           
          }
        ">
<h1>수정 >></h1>
<input id="night_day2" type="button" value="night" onclick="
var target = document.querySelector('body'); 
if(this.value === 'night'){
  target.style.backgroundColor = 'black';
  target.style.color = 'white';
  this.value = 'day';

} else {
  target.style.backgroundColor = 'white';
  target.style.color = 'black';
  this.value = 'night';
 
}
">

<br>
<p>
    코딩을 잘하는 방법 : 중복을 끝까지 따라가서 없앤다. <br>
    여러가지 기술의 발전 계기 : 중복과 관련이 있을 가능성이 크다. <br>
    변수를 잘 활용하면 중복을 제어할 수 있다.
    document.querySelector('body'); > 라는 코드를 target이라는 변수로 설정하고, 나중에 var target 변수에 해당하는 부분만 수정하면 <br>
    한꺼번에 많은 내용을 수정할 수 있다.

</p>

        </body>
        </html>
